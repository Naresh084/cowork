# PH3-02 Evidence

## Change Summary

- Added month-3 baseline hybrid retrieval scoring in memory kernel adapter.
- Exposed scoring weight controls through deep memory query options.
- Added retrieval-quality acceptance test for precision@8 threshold with seeded corpus.
- Hardened hybrid tokenization and query coverage scoring for stable ranking behavior.

## Files Changed

- apps/desktop/src-sidecar/src/memory/memory-service.ts
- apps/desktop/src-sidecar/src/memory/memory-service.hybrid.test.ts

## Verification Commands

```bash
pnpm --filter @gemini-cowork/sidecar test -- src/memory/memory-service.hybrid.test.ts
pnpm --filter @gemini-cowork/sidecar typecheck
```

## Verification Output Summary

- Hybrid retrieval baseline passes precision@8 gate (`>= 0.88`) on seeded evaluation test.
- Memory retrieval path compiles and runs through deep query interface.

## Acceptance Mapping

- Plan acceptance criteria: Implement hybrid retrieval baseline with scoring.
- Result: Completed. Baseline scoring implemented and validated with precision gate test.

## Residual Risks

- nDCG quality assertion is not yet wired into benchmark suite; tracked in later benchmark hardening.

## Rollback Path

- Revert hybrid scoring integration in memory service.
