# P6-06 Evidence

## Change Summary

- Added dedicated policy profile settings panel with pre-apply impact preview:
  - `/Users/naresh/Work/Personal/geminicowork/apps/desktop/src/components/settings/ToolPolicySettings.tsx`
- Integrated panel into capabilities settings:
  - `/Users/naresh/Work/Personal/geminicowork/apps/desktop/src/components/settings/CapabilitySettings.tsx`
- Added preview behavior:
  - draft profile selection separate from current profile,
  - per-tool action delta (`now` vs `draft`),
  - action count summary (`allow/ask/deny`),
  - explicit apply/reset controls.

## Files Changed

- `/Users/naresh/Work/Personal/geminicowork/apps/desktop/src/components/settings/ToolPolicySettings.tsx`
- `/Users/naresh/Work/Personal/geminicowork/apps/desktop/src/components/settings/CapabilitySettings.tsx`

## Verification Commands

```bash
pnpm --filter @gemini-cowork/shared build
pnpm --filter @gemini-cowork/desktop typecheck
```

## Verification Output Summary

- Shared and desktop type systems validate profile preview and apply flow wiring.

## Acceptance Mapping

- Plan acceptance criteria: safe policy edit preview.
- Current result: users can inspect projected policy action changes before applying a new profile.

## Residual Risks

- Preview currently models profile-level behavior and does not simulate full runtime condition/rule context.

## Rollback Path

- Remove `ToolPolicySettings` and keep existing inline per-tool policy controls in capability settings.
