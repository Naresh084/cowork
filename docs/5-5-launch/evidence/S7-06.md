# S7-06 Evidence

## Change Summary

- Implemented signed package validation for managed connector and skill packs.
- Added signature creation (`SIGNATURE.json`) for managed install/create paths.
- Added signature verification in managed discovery paths so unsigned/tampered packs are excluded by default.

## Files Changed

- `/Users/naresh/Work/Personal/geminicowork/apps/desktop/src-sidecar/src/connectors/connector-service.ts`
- `/Users/naresh/Work/Personal/geminicowork/apps/desktop/src-sidecar/src/skill-service.ts`
- `/Users/naresh/Work/Personal/geminicowork/apps/desktop/src-sidecar/src/connectors/connector-service.security.test.ts`
- `/Users/naresh/Work/Personal/geminicowork/apps/desktop/src-sidecar/src/skill-service.security.test.ts`

## Verification Commands

```bash
pnpm --filter @gemini-cowork/sidecar exec vitest run --config vitest.config.ts src/connectors/connector-service.security.test.ts src/skill-service.security.test.ts src/connectors/secret-service.test.ts
pnpm --filter @gemini-cowork/sidecar typecheck
```

## Verification Output Summary

- `connector-service.security.test.ts` passed:
  - unsigned managed connectors are blocked;
  - install flow signs managed connector pack.
- `skill-service.security.test.ts` passed:
  - unsigned managed skills are blocked;
  - install flow signs managed skill pack.
- Sidecar typecheck passed.

## Acceptance Mapping

- Plan acceptance criteria: unsigned/tampered packs blocked by default.
- Current result: managed connector/skill packs now require valid signature file + digest match during discovery.

## Residual Risks

- Validation is scoped to managed connector/skill packs; workflow-pack enforcement remains open.

## Rollback Path

- Remove signature enforcement in managed discovery and remove signature generation during managed install/create.
