# U8-03 Evidence

## Change Summary

- Added a persistent run-status rail to chat so run state is always visible and actionable during active sessions.
- The rail now surfaces clear run states: `idle`, `queued`, `thinking`, `running`, `awaiting approval`, `awaiting input`, and `stalled`.
- Added direct controls in the rail for:
  - stopping an active run,
  - recovering a stalled run,
  - dismissing stale stall warnings,
  - jumping to pending approval cards.
- Added explicit branch context pill in the rail with active branch name and branch count.

## Files Changed

- apps/desktop/src/components/chat/ChatView.tsx

## Verification Commands

```bash
pnpm --filter @cowork/desktop typecheck
pnpm --filter @cowork/sidecar typecheck
```

## Verification Output Summary

- Desktop and sidecar typechecks pass with the new run-status rail and controls.

## Acceptance Mapping

- Plan acceptance criteria: Active run state always actionable.
- Result: Done. Run state is now always visible in chat with inline controls for stop/recover and pending-approval navigation.

## Residual Risks

- The approval jump action currently scrolls to the first pending inline card; richer focus management (per-item keyboard focus handoff) remains a UX follow-up.

## Rollback Path

- Revert run-status rail additions in `ChatView.tsx` and restore prior stall-only banner behavior.
