# M2-07 Evidence

## Change Summary

- Added new memory inspector UI surface with:
  - selected-memory metadata display,
  - deep-query evidence view (rank, query score, confidence, reasons),
  - inline feedback actions (`positive`, `negative`, `pin`/`unpin`, `report_conflict`).
- Added explicit selected-memory lifecycle controls inside inspector:
  - in-place edit mode (title/content/group),
  - save/cancel controls,
  - delete action with confirmation.
- Integrated inspector into memory panel so selection immediately opens evidence controls.
- Fixed memory-item action affordance (`group-hover`) to expose edit/delete controls reliably.

## Files Changed

- apps/desktop/src/components/memory/MemoryInspector.tsx
- apps/desktop/src/components/memory/MemoryPanel.tsx
- apps/desktop/src/components/memory/index.ts

## Verification Commands

```bash
pnpm --filter @gemini-cowork/desktop typecheck
pnpm --filter @gemini-cowork/desktop test -- src/stores/memory-store.test.ts
```

## Verification Output Summary

- Desktop typecheck passes with inspector integration.
- Memory store tests pass with deep query/feedback paths exercised.

## Acceptance Mapping

- Plan acceptance criteria: Build memory inspector with source evidence and control actions.
- Result: Completed. Inspector now supports source evidence plus edit/delete/pin/feedback control flows from one surface.

## Residual Risks

- Feedback controls still rely on deep-query context (`queryId`) by design; manual edit/delete remains available without query context.

## Rollback Path

- Revert memory inspector component integration and memory panel wiring.
