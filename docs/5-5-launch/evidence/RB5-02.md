# RB5-02 Evidence

## Change Summary

- Implemented normalized evidence synthesis and source confidence scoring in:
  - `/Users/naresh/Work/Personal/geminicowork/apps/desktop/src-sidecar/src/tools/research-tools.ts`
- Added:
  - URL normalization and deduplication,
  - markdown link extraction from generated reports,
  - confidence scoring heuristics,
  - ranked evidence output with provenance,
  - evidence summary payload (`totalSources`, `avgConfidence`, `highConfidenceSources`),
  - structured `research:evidence` event emission.

## Files Changed

- /Users/naresh/Work/Personal/geminicowork/apps/desktop/src-sidecar/src/tools/research-tools.ts
- /Users/naresh/Work/Personal/geminicowork/apps/desktop/src-sidecar/src/tools/research-tools.test.ts
- /Users/naresh/Work/Personal/geminicowork/apps/desktop/src-sidecar/src/event-emitter.ts

## Verification Commands

```bash
pnpm --filter @gemini-cowork/sidecar typecheck
pnpm --filter @gemini-cowork/sidecar test -- src/tools/research-tools.test.ts
```

## Verification Output Summary

- Sidecar typecheck passes.
- `research-tools.test.ts` passes (`3/3`) and validates evidence materialization in tool output.

## Acceptance Mapping

- Plan acceptance criteria: ranked citations with provenance and confidence.
- Current result: implemented and verified through tool-layer tests.

## Residual Risks

- Confidence model is currently heuristic and should be calibrated against benchmark-quality labels.

## Rollback Path

- Revert evidence normalization/scoring helpers and emit raw citations only.
