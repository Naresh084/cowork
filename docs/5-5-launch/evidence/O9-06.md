# O9-06 Evidence

## Change Summary

- Added release-gate backend evaluator logic with hard fail/warning/pass outcomes derived from benchmark scorecard dimensions and thresholds.
- Persisted release-gate snapshots now include explicit evaluator `reasons`.
- Added Release Gate panel UI with status pill (`PASS/FAIL/WARNING/UNKNOWN`), reason list, manual refresh action, and initial auto-fetch behavior.
- Added launch-block warning banner in benchmark dashboard when gate status is `fail`.
- Added explicit release-action enforcement hook:
  - Sidecar command `release_gate_assert` (throws on `fail` status).
  - Tauri command `agent_assert_release_gate`.
  - UI action `Assert Launch Gate` that invokes the command and surfaces block errors.
- Wired live sidecar event ingestion for:
  - `benchmark:progress`
  - `benchmark:score_updated`
  - `release_gate:status`
  into benchmark store updates via `useAgentEvents`.

## Files Changed

- apps/desktop/src-sidecar/src/agent-runner.ts
- apps/desktop/src-sidecar/src/ipc-handler.ts
- apps/desktop/src-tauri/src/commands/agent.rs
- apps/desktop/src-tauri/src/main.rs
- apps/desktop/src/components/benchmark/ReleaseGatePanel.tsx
- apps/desktop/src/components/benchmark/BenchmarkDashboard.tsx
- apps/desktop/src/hooks/useAgentEvents.ts
- apps/desktop/src/stores/benchmark-store.ts
- apps/desktop/src/lib/agent-events.ts
- apps/desktop/src/lib/event-types.ts
- apps/desktop/src-sidecar/src/agent-runner.release-gate.test.ts

## Verification Commands

```bash
pnpm --filter @gemini-cowork/sidecar test -- src/agent-runner.release-gate.test.ts
pnpm --filter @gemini-cowork/desktop typecheck
pnpm --filter @gemini-cowork/sidecar typecheck
cargo check
```

## Verification Output Summary

- Release-gate assertion tests pass (`2/2`).
- Desktop TypeScript compile passes with release-gate UI and assertion action wiring.
- Sidecar TypeScript compile passes with assertion command path.
- Rust `cargo check` passes with new Tauri command registration.

## Acceptance Mapping

- Plan acceptance criteria: Build release gate with hard-fail criteria and auto-block behavior.
- Result: Implemented. Fail states now block explicit launch assertion path and surface reasons in UI.

## Residual Risks

- End-to-end enterprise release pipeline integration (outside app) still depends on consumers invoking the assertion command.

## Rollback Path

- Revert assertion command path and release-gate UI/event handlers.
